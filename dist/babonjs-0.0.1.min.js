/* 
	 babonjs - v0.0.1 
	 Included libraries: 
	 jQuery, Scrollmagic, Greenshock, Enquire. 
*/
if("undefined"==typeof jQuery||"undefined"==typeof enquire)throw new Error("BabonJS requires jQuery and Enquire!");!function(){var __extend=function(obj){if("object"==typeof obj&&void 0===obj.indexOf)for(var key in obj)obj.hasOwnProperty(key)&&(window[key]=obj[key])};__extend({isDefined:function(obj){return"undefined"!=typeof obj?!0:!1},isString:function(obj){return"string"==typeof obj?!0:!1},isObject:function(obj){return"object"!=typeof obj||void 0!==obj.indexOf||obj.constructor.prototype.hasOwnProperty("splice")?!1:!0},isArray:function(obj){return Array.isArray(obj)||obj.constructor.prototype.hasOwnProperty("splice")&&!isJQuery(obj)?!0:!1},isFunction:function(obj){return"function"==typeof obj?!0:!1},isNumber:function(obj){return"number"==typeof obj?!0:!1},isBoolean:function(obj){return obj===!0||obj===!1?!0:!1},isBabonKit:function(obj){return obj.babonkit?!0:!1},isJQuery:function(obj){return obj&&obj.hasOwnProperty("length")&&obj.jquery?!0:!1},isHTML:function(obj){return obj&&obj.ELEMENT_NODE?!0:!1},isColor:function(obj){return/^(#)?([0-9a-fA-F]{3})([0-9a-fA-F]{3})?$/.test(obj)?!0:!1},isURL:function(obj){return/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i.test(obj)?!0:!1},isEmail:function(obj){return/^([\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+\.)*[\w\!\#$\%\&\'\*\+\-\/\=\?\^\`{\|\}\~]+@((((([a-z0-9]{1}[a-z0-9\-]{0,62}[a-z0-9]{1})|[a-z])\.)+[a-z]{2,6})|(\d{1,3}\.){3}\d{1,3}(\:\d{1,5})?)$/i.test(obj)?!0:!1},isDate:function(obj){return isNaN(new Date(obj).getDate())?!1:!0},foreach:function(object,func){if(isFunction(func))if(isArray(object)||isJQuery(object)&&isFunction(func))for(var i=0;i<object.length;++i)func(object[i],i);else{if(!isObject(object)||!isFunction(func))return console.error("Invalid arguments!");for(var key in object)object.hasOwnProperty(key)&&func(key,object[key])}return object},parseURL:function(url){if(isString(url)){var splited=url.split("/"),first="",paths="",files="",exten="";if(foreach(splited,function(value,index){0===index&&"/"===value&&(first="/"),index===splited.length-1?files=value:paths=paths+value+"/"}),""!==files){var ef=files.split("."),en="",ex="";foreach(ef,function(value,index){index===ef.length-1?ex=value:(en+=value,index!==ef.length-2&&(en+="."))}),files=en,exten=ex}return{root:paths,name:files,ext:exten}}}});var xObject=function(obj){if(isObject(obj)){var tar=this;foreach(obj,function(key,value){tar[key]=value})}return this};xObject.prototype={keys:function(){return Object.keys(this)},length:function(){return this.keys().length},sort:function(){var obj=new xObject,obs=this,key=this.keys().sort();return foreach(key,function(key){obj[key]=obs[key]}),obj},del:function(key){if(isString(key)&&this.hasOwnProperty(key))delete this[key];else if(isArray(key)){var obj=this;foreach(key,function(key){delete obj[key]})}return this},circle:function(dir){var keys=this.keys();if(keys.length<2)return this;var objn=new xObject,objo=this,skip=0;if(isString(dir)&&"reverse"===dir){skip=keys.length-1;var skey=keys[skip];objn[skey]=objo[skey]}if(foreach(keys,function(key,idx){idx!==skip&&(objn[key]=objo[key])}),!isString(dir)){var skey=keys[skip];objn[skey]=objo[skey]}return objn},each:function(func){return isFunction(func)&&foreach(this,func),this}},Object.defineProperty&&foreach(xObject.prototype,function(key){Object.defineProperty(xObject.prototype,key,{enumerable:!1})}),foreach(Object.prototype,function(key,value){xObject.prototype[key]=value});var xArray=function(array){if(array?array:array=[],isArray(array)){var obj=this;foreach(array,function(value){obj.push(value)})}return this};xArray.prototype=Object.create(Array.prototype);var xAProto={each:function(func){return isFunction(func)&&foreach(this,func),this},del:function(index){var on=new xArray;if(isString(index)&&(index=this.indexOf(index)),isNumber(index)){var odd=this;foreach(odd,function(val,idx){idx!==index&&on.push(val)})}else isArray(index)&&(on=this,foreach(index,function(val){on=on.del(val)}));return on},circle:function(dir){dir?dir:dir="backward";var arr=new xArray;if("backward"===dir){var odd=this;foreach(odd,function(val,idx){0!==idx&&arr.push(val)}),arr.push(this[0])}else if("forward"===dir){var ln=this.length-1;arr.push(this[ln]);var odd=this;foreach(odd,function(val,idx){idx!==ln&&arr.push(val)})}return arr}};foreach(xAProto,function(key,value){xArray.prototype[key]=value}),Object.defineProperty&&foreach(xAProto,function(key){Object.defineProperty(xArray.prototype,key,{enumerable:!1})}),__extend({xObject:function(OBJECT){return new xObject(OBJECT)},xArray:function(ARRAY){return new xArray(ARRAY)},__extend__:__extend})}(),function($){$.extend(jQuery.expr[":"],{hasattr:function(obj,idx,prop){if(!prop[3])return!1;var args=prop[3].replace(/\s?,\s?/,",").split(",");if(1===args.length){var attrs=obj.attributes;if(attrs&&attrs.length>0)for(var i=0;i<attrs.length;i++){var name=attrs[i].name;if(name===args[0])return!0}return!1}if(2===args.length){var name=args[0],vals=args[1],oval=obj.getAttribute(name);if(oval&&(oval=oval.split(" ")),oval&&oval.length>0)for(var i=0;i<oval.length;++i)if(oval[i]===vals)return!0;return!1}},hasdata:function(obj,idx,prop){var attrs=obj.attributes;if(!prop[3]){if(attrs&&attrs.length>0)for(var i=0;i<attrs.length;++i){var name=attrs[i].name;if(name.search("data")>-1)return!0}return!1}var args=prop[3].replace(/\s?,\s?/,",").split(",");if(1===args.length){if(attrs&&attrs.length>0)for(var i=0;i<attrs.length;++i){var name=attrs[i].name;if(name==="data-"+args[0])return!0}return!1}if(2===args.length){var name=args[0],vals=args[1],oval=obj.getAttribute("data-"+name);if(oval&&(oval=oval.split(" ")),oval&&oval.length>0)for(var i=0;i<oval.length;++i)if(oval[i]===vals)return!0;return!1}},hasname:function(obj,idx,prop){var attrs=obj.attributes;if(prop[3])return obj.getAttribute("name")===prop[3]?!0:!1;if(attrs&&attrs.length>0)for(var i=0;i<attrs.length;++i){var name=attrs[i].name;if("name"===name)return!0}return!1}})}(jQuery),function($){$.fn.hasAttr=function(name){if(this.length<1)return!1;var obj=this[0],atr=obj.attributes;if(isString(name)){if(!atr[name])return!1}else if(isArray(name))for(var i=0;i<name.length;++i)if(!atr[name[i]])return!1;return!0},$.fn.hasData=function(name){if(isString(name))return this.hasAttr("data-"+name);if(isArray(name)){for(var i=0;i<name.length;++i)name[i]="data-"+name[i];return this.hasAttr(name)}},$.fn.getData=function(name){if(isString(name)){var data=this.attr("data-"+name);if(data)if(data.search(/(\:)/)>-1)try{data=JSON.parse(data)}catch(e){try{eval("data = {"+data+"}")}catch(e){}}else if(data.search(",")>-1){if(data=data.replace(/\s?,\s?/g,",").split(","),data.length)for(var d=0;d<data.length;d++){var now=data[d];Number(now)?data[d]=Number(now):"true"===now?data[d]=!0:"false"===now&&(data[d]=!1)}}else Number(data)?data=Number(data):"true"===data?data=!0:"false"===data&&(data=!1);return data}if(Array.isArray(name)){for(var data={},x=0;x<name.length;++x){var vals=this.getData(name[x]);vals&&(data[name[x]]=vals)}return data}for(var data={},attr=this[0].attributes,a=0;a<attr.length;++a){var name=attr[a].name;if(name.search("data-")>-1){name=name.replace("data-","");var vals=this.getData(name);data[name]=vals}}return data},$.fn.setData=function(name,value){if(isString(name)&&value)isObject(value)&&(value=isArray(value)?value.toString():JSON.stringify(value)),this.attr("data-"+name,value);else if(isObject(name))for(var key in name)if(name.hasOwnProperty(key)){var val=name[key];isObject(val)&&(val=isArray(val)?val.toString():JSON.stringify(val)),this.attr("data-"+key,val)}return this},$.fn.appendData=function(name,value){if(isString(name)&&value)for(var x=0;x<this.length;++x){var obj=$(this[x]),att=obj.getData(name);att&&!isObject(att)?obj.setData(name,att+" "+value):obj.setData(name,value)}else if(isObject(name)){var obj=this;foreach(name,function(name,value){obj.appendData(name,value)})}return this},$.fn.remData=function(name){if(isString(name))this.removeAttr("data-"+name);else if(isArray(name)){var obj=this;foreach(name,function(value){obj.removeAttr("data-"+value)})}return this},$.fn.offsets=function(){var offset=this.offset(),width=this.width(),height=this.height();offset.width=width,offset.height=height;var wdt=offset.width/2,hgt=offset.height/2,p_top=offset.top+hgt,p_lft=offset.left+wdt;return offset.center={top:Math.round(p_top),left:Math.round(p_lft)},offset},$.fn.center=function(){var ofs=this.offsets(),wdt=ofs.width/2,hgt=ofs.height/2,p_top=ofs.top+hgt,p_lft=ofs.left+wdt;return{top:Math.round(p_top),left:Math.round(p_lft)}},$.fn.boxRatio=function(){return this.each(function(){var ratio=$(this).getData("box-ratio");if(!ratio){var width=$(this).width(),height=$(this).height();ratio=func("box:count-ratio")(width,height).split(","),$(this).setData("box-ratio",ratio)}}),this.getData("box-ratio")},$.fn.direction=function(){if(this.length<1)return this;if(1===this.length){var offset=this.offsets();return offset.width>offset.height?(this.addClass("landscape").removeClass("portrait"),"landscape"):(this.addClass("portrait").removeClass("landscape"),"portrait")}return this.each(function(){$(this).direction()}),this}}(jQuery),function(){var Tools={};Tools.variables={},Tools.constants={},Tools.functions={},Tools.vars=function(name,value){if(name){if(value)return Tools.variables[name]=value;if(Tools.variables[name])return Tools.variables[name]}},Tools.cons=function(name,value){return name?value?isFunction(value)?console.warn("You can't register function as a constant. Please use func() rather than cons()."):Tools.constants[name]?console.warn('Constant "'+name+'" alerady registered.'):Tools.constants[name]=value:Tools.constants[name]:void 0},Tools.func=function(name,func){return isString(name)?isFunction(func)?Tools.functions[name]?console.warn('Function "'+name+'" alerady registered.'):(Tools.functions[name]=func,Tools.functions[name]):Tools.functions[name]:void 0},Tools.proto=function(name,proto_name,func){return isString(name)&&isFunction(Tools.functions[name])&&isString(proto_name)&&isFunction(func)?(Tools.functions[name].prototype[proto_name]=func,Tools.functions[name]):void 0},__extend__({cons:Tools.cons,vars:Tools.vars,func:Tools.func,proto:Tools.proto,__tools__:function(){return{vars:Tools.variables,cons:Tools.constants,func:Tools.functions}}})}(),function($){var DataFinder=function(name,value,from){if(isString(name))return isString(value)||isNumber(value)||isBoolean(value)?isJQuery(from)||isHTML(from)?$(":hasdata("+name+", "+value+")",from):$(":hasdata("+name+", "+value+")"):isJQuery(value)||isHTML(value)?$(":hasdata("+name+")",value):$(":hasdata("+name+")");if(isObject(name)){var query="";return foreach(name,function(name,value){query+=isString(value)&&"?"!==value?":hasdata("+name+", "+value+")":":hasdata("+name+")"}),isJQuery(value)||isHTML(value)?$(query,value):$(query)}if(isArray(name)){var query="";return foreach(name,function(value){query+=":hasdata("+value+")"}),isJQuery(value)||isHTML(value)?$(query,value):$(query)}};window.$_data=$.findData=DataFinder}(jQuery),function(registry){"object"==typeof exports?module.exports=registry():"function"==typeof define&&define.amd?define(registry):window.Registry=registry()}(function(){var AppReg={},Registry=function(name,value,option){if(isString(name)){if(!isDefined(value))return"undefined"!=typeof AppReg[name]?AppReg[name]:void 0;if(this.locked=!1,"undefined"!=typeof AppReg[name]&&AppReg[name].locked===!0&&(this.locked=!0),this.value=value,this.locked)return console.warn("Registry "+name+' already exists as Protected Registry. Please use ".update()" method and give your key to update the registry.');isObject(option)&&option.locked===!0&&isString(option.key)?(this.locked=!0,this.unlock=option.key,AppReg[name]=this):(this.locked=!1,this.unlock=null,AppReg[name]=this)}return this};return Registry.prototype={update:function(value,key){if(this.locked===!0){if(!key||key!==this.unlock)return console.warn("Unable to update protected registry. Please check your key.");this.value=value}return this}},function(name,value,option){return new Registry(name,value,option)}}),function(automator){"object"==typeof exports?module.exports=automator():"function"==typeof define&&define.amd?define(automator):window.Automator=automator()}(function(){if("undefined"==typeof jQuery)return console.error("BabonKit requires: jQuery 1.10+ and Enquire!");var $=jQuery,AutomatorMaps={automator:{},prebuilds:[],disableds:[]},Automator=function(name,builder,auto){if(isString(name)){if(!isDefined(builder))return AutomatorMaps.automator[name]?AutomatorMaps.automator[name]:console.error('Can not get automator "'+name+'" of undefined.');if(!isFunction(builder))return console.error('Can not create automator "'+name+'" with '+typeof builder+" as a builder.");this.name=name,this.func=builder,this.auto=!1,this.dont=[],AutomatorMaps.automator[name]=this,isBoolean(auto)&&(this.auto=auto,auto===!0&&AutomatorMaps.prebuilds.push(name))}return this};Automator.prototype={build:function(){if(this.dont.length>0){for(var i=0;i<=this.dont.length;++i)if(isFunction(this.dont[i])&&this.dont[i]()===!0)return this;this.func(arguments)}else this.func(arguments);return this},remove:function(){return void delete AutomatorMaps.automator[this.name]},escape:function(args){if(isFunction(args))this.dont.push(args);else if(isArray(args)){var parent=this;foreach(args,function(func){isFunction(func)&&parent.dont.push(func)})}return this},autobuild:function(bool){var idx=AutomatorMaps.prebuilds.indexOf(this.name);return bool===!1&&idx>-1?AutomatorMaps.prebuilds[idx]=void 0:bool===!0&&-1===idx&&AutomatorMaps.prebuilds.push(this.name),this.auto=bool,this},enabled:function(){var idx=AutomatorMaps.disableds.indexOf(this.name);return idx>-1?!1:!0}},$(document).ready(function(){foreach(AutomatorMaps.prebuilds,function(name){isString(name)&&Automator(name)&&Automator(name).build()})});var automator=function(name,builder,auto){return new Automator(name,builder,auto)};return automator.disable=function(name){return isString(name)&&-1===AutomatorMaps.disableds.indexOf(name)&&AutomatorMaps.disableds.push(name),name},automator.enable=function(name){if(isString(name)){var idx=AutomatorMaps.disableds.indexOf(name);idx>-1&&(AutomatorMaps.disableds[idx]=void 0)}return name},automator}),function(generator){"object"==typeof exports?module.exports=generator():"function"==typeof define&&define.amd?define(generator):window.Generator=generator()}(function(){}),function($){var _K_=function(name,init_config){if(this.version="0.1.0",this.build="920",isString(name)){if(__lists.hasOwnProperty(name)){var object=new __lists[name](init_config);if(object["kit-name"]=name,foreach(__core_props,function(key,value){object[key]=value}),object.hasOwnProperty("__constructor")){object.constructor.prototype||(object.constructor.prototype={});var constructor=__lists[object.__constructor];constructor&&foreach(constructor.prototype,function(key,value){object.constructor.prototype[key]=value})}return object.name||(object.name=__random(name)),object["kit-id"]=__mount.count++,__mount.lists[object["kit-id"]]=object,object.outer.setData({kit:name,"kit-id":object["kit-id"],"outer-box":""}).addClass(object.name),object.inner.setData({"kit-id":object["kit-id"],"inner-box":""}),$("*",object.inner).setData("kit-id",object["kit-id"]),object}return new BabonKit("template")}return this},BabonKit=function(STR_KIT_NAME,OBJ_INIT_CONFIG){return new _K_(STR_KIT_NAME,OBJ_INIT_CONFIG)},__registry={lists:{},count:{},mount:{lists:{},count:0},build:{},config:{"pre-build":!1,"is-retina":!1}};BabonKit.registry=__registry;var __core_props={"kit-id":0,childs:{},parent:null,babonkit:"0.1.0"},Template=function(init){return this.outer=$('<div class="object-sample"><div class="frame">'),this.inner=$('<div class="inner">').appendTo($(".frame",this.outer)),init&&(init.name&&(this.name=init.name),init.outer&&(this.outer=init.outer),init.inner&&(this.inner=init.inner)),this.outer.addClass(this.name),this};Template.prototype={content:function(content){return this.inner.html(content),this},mount:function(){return console.log("test"),this}};var __core_proto={append:function(object,target_node){return isBabonKit(object)&&(isString(target_node)?isJQuery(this[target_node])&&isJQuery(object.outer)&&this[target_node].append(object.outer):isJQuery(this.inner)&&isJQuery(object.outer)&&this.inner.append(object.outer),this.childs[object.name]=object,object.parent=this),this},appendTo:function(target,target_node){return isBabonKit(target)&&(isString(target_node)?isJQuery(target[target_node])&&isJQuery(this.outer)&&target[target_node].append(this.outer):isJQuery(target.inner)&&isJQuery(this.outer)&&target.inner.append(this.outer),target.childs[this.name]=this,this.parent=target),this},prepend:function(object,target_node){return isBabonKit(object)&&(isString(target_node)?isJQuery(this[target_node])&&isJQuery(object.outer)&&this[target_node].prepend(object.outer):isJQuery(this.inner)&&isJQuery(object.outer)&&this.inner.prepend(object.outer),this.childs[object.name]=object,object.parent=this),this},prependTo:function(target,target_node){return isBabonKit(target)&&(isString(target_node)?isJQuery(target[target_node])&&isJQuery(this.outer)&&target[target_node].prepend(this.outer):isJQuery(target.inner)&&isJQuery(this.outer)&&target.inner.prepend(this.outer),target.childs[this.name]=this,this.parent=target),this},remove:function(){return this.outer&&this.outer.remove(),this.parent&&delete this.parent.childs[this.name],this},style:function(object,target_node){return isObject(object)&&(isString(target_node)&&isJQuery(this[target_node])?this[target_node].css(object):isJQuery(this.outer)&&this.outer.css(object)),this},renderTo:function(object){if(isObject(object))return this;var target=$(object);return target&&target.length>0&&target.append(this.outer),this}},__defl_proto=function(object){object.prototype||(object.prototype={});for(var key in __core_proto)__core_proto.hasOwnProperty(key)&&!object.prototype.hasOwnProperty(key)&&(object.prototype[key]=__core_proto[key]);return object},__lists=__registry.lists,__count=__registry.count,__mount=__registry.mount,__build=__registry.build,__setup=__registry.config,__random=function(name){return name&&__count[name]?name+"-"+__count[name]++:void 0},_R_=function(name,object){if(isString(name)){if(object)return __lists[name]?__lists[name]:(object=__defl_proto(object),__count[name]=1,object.hasOwnProperty("build")&&(__build[name]=object.build),__lists[name]=object)}else if(isObject(name))return foreach(name,function(name,object){__lists[name]||(object=__defl_proto(object),object.hasOwnProperty("build")&&(__build[name]=object.build),__lists[name]=object,__count[name]=1)}),__lists;return new BabonKit};BabonKit.register=function(STR_KIT_NAME,FUNC_KIT_HANLDER){return _R_(STR_KIT_NAME,FUNC_KIT_HANLDER)},BabonKit.encode=function(obj){return isJQuery(obj)?obj:obj=$(obj),obj};var constructor=function(name){return isString(name)&&(this.__constructor=name),this},_X_=function(src,des,args){if(!isString(src)||!isObject(des)||!isArray(args))return!1;var obj=__lists[src];return isFunction(obj)&&(constructor.call(des,src),obj.apply(des,args)),this};BabonKit.extend=function(KIT_SOURCE,KIT_TARGET,OBJ_INIT_CONFIG){return _X_(KIT_SOURCE,KIT_TARGET,OBJ_INIT_CONFIG)},BabonKit.render=function(name){return isString(name)?__lists[name]&&__lists[name].hasOwnProperty("render")&&__lists[name].render():isArray(name)?foreach(name,function(name){__lists[name]&&__lists[name].hasOwnProperty("render")&&__lists[name].render()}):__lists&&isObject(__lists)&&foreach(__lists,function(name,object){object.hasOwnProperty("render")&&object.render()}),new BabonKit};var _B_=function(object,rule){if(isJQuery(object))if(1===object.length)if(isString(rule)){var builder=__build[rule];if(builder)return builder(object)}else{var kit=object.getData("kit");if(isString(kit)){var builder=__build[kit];if(isFunction(builder))return builder(object)}}else foreach(object,function(object){BabonKit.build($(object),rule)});else if(isString(object)){if(isFunction(__build[object]))return __build[object]}else foreach(__build,function(name,object){object()})};BabonKit.build=function(JQUERY_OBJECT,STR_KIT_NAME){return _B_(JQUERY_OBJECT,STR_KIT_NAME)};var _B_R_=function(name,func){return isString(name)&&isFunction(func)?__build[name]?__build[name]:__build[name]=func:console.error("Name should be string, and function should be function!")};BabonKit.builder=BabonKit.build.register=function(STR_NAME,FUNC_HANLDER){return _B_R_(STR_NAME,FUNC_HANLDER)},$.fn.buildKit=function(){return BabonKit.build(this)},$.fn.build=function(name){return isString(name)&&BabonKit.build(name)(this),this};var _C_=function(name,value){return isString(name)?value?__setup[name]=value:__setup[name]?__setup[name]:void 0:isObject(name)?(foreach(name,function(key,value){__setup[key]=value}),name):__setup};BabonKit.config=function(STR_CONFIG_KEY,CONFIG_VALUE){return _C_(STR_CONFIG_KEY,CONFIG_VALUE)};var _F_=function(name){var list=Object.keys(__lists);return isString(name)&&list.indexOf(name)>0?list.indexOf(name):void 0};BabonKit.find=function(STR_KIT_NAME){return _F_(STR_KIT_NAME)},BabonKit.register({template:Template}),window.BabonKit=window.$_babon=BabonKit,$(document).ready(function(){BabonKit.config("pre-build")===!0&&BabonKit.build()})}(jQuery),function(factory){"undefined"!=typeof define&&define.amd&&define(factory)}(function(){return window.BabonKit}),function(){window["is-mobile"]=!1,enquire.register("only screen and (min-device-width : 320px) and (max-device-width : 767px)",{match:function(){window["is-mobile"]=!0}}),window["is-tablet"]=!1,enquire.register("only screen and (min-device-width : 768px) and (max-device-width : 1024px), (min-width: 768px) and (max-width: 1200px)",{match:function(){window["is-tablet"]=!0}}),window["is-desktop"]=!1,enquire.register("screen and (min-width: 960px)",{match:function(){window["is-desktop"]=!0}}),window["is-retina"]=!1,window.devicePixelRatio&&window.devicePixelRatio>1&&(window["is-retina"]=!0);var _MQ_=function(query){return this.query="",isString(query)&&(this.query=query),this};_MQ_.prototype={run:function(func){return isFunction(func)&&isString(this.query)&&(enquire.unregister(this.query),enquire.register(this.query,{match:func})),this},del:function(){return this.query&&enquire.unregister(this.query),this},onReady:function(func){if(isFunction(func)){var query=this;$(document).ready(function(){query.run(func)})}return this}},__extend__({$_desktop:new _MQ_("screen and (min-width: 960px)"),$_mobile:new _MQ_("only screen and (min-device-width : 320px) and (max-device-width : 767px)"),$_tablet:new _MQ_("only screen and (min-device-width : 768px) and (max-device-width : 1024px)")}),window.$_media=window.atmedia=function(STR_QUERY){return new _MQ_(STR_QUERY)}}(enquire),function($,$$,$$$){window.devicePixelRatio&&window.devicePixelRatio>1&&$$.config("is-retina",!0),$$.builder("background",function(object){return isJQuery(object)?object:object=$$$("background"),$$.config("responsive-background-image")&&window["__is-tablet"]||window["__is-mobile"]?($_tablet.onReady(function(){object.each(function(){var target=$(this),background=$(this).getData("background");if("get-child-img"===background&&(background=$("img",this).attr("src")),isString(background)){var img_url=parseURL(background);isObject(img_url)&&(img_url=img_url.root+img_url.name+"@tablet."+img_url.ext,$.ajax({url:img_url,type:"HEAD",success:function(){target.css("backgroundImage","url("+img_url+")")},error:function(){target.css("backgroundImage","url("+background+")")}}))}})}),$_mobile.onReady(function(){object.each(function(){var target=$(this),background=$(this).getData("background");if("get-child-img"===background&&(background=$("img",this).attr("src")),isString(background)){var img_url=parseURL(background);isObject(img_url)&&(img_url=img_url.root+img_url.name+"@mobile."+img_url.ext,$.ajax({url:img_url,type:"HEAD",success:function(){target.css("backgroundImage","url("+img_url+")")},error:function(){target.css("backgroundImage","url("+background+")")}}))}})})):object.each(function(){var background=$(this).getData("background");if("get-child-img"===background&&(background=$("img",this).attr("src")),isString(background)){$(this).css({backgroundImage:"url("+background+")"})}}),object}),$.fn.applyBackground=function(){return $$.build("background")(this)},$$.builder("img:retina",function(object){return $$.config("is-retina")&&$$.config("retina-images")?(isJQuery(object)?object:object=$$$("retina-image"),object.each(function(){var im_src,image=$(this),source=image.attr("src");if(source){var parse=parseURL(source);parse&&(im_src=parse.root+parse.name+"@2x."+parse.ext)}im_src&&$.ajax({url:im_src,success:function(){image.css({width:image.width(),height:image.height()}).attr("src",im_src)}})})):void 0})}(jQuery,BabonKit,jQuery.findData),function($,$$,$$$){Registry("enable-responsive-background",!0,{locked:!0,key:"BGD-RSP"}),Registry("enable-retina-background",!0,{locked:!0,key:"BGD-RTN"});$$("bg:dynamic",function(object){isJQuery(object)?object:object=$$$("bg-dynamic"),object.each(function(){var img_src=$(this).getData("bg-dynamic"),new_src="";if("get-child-img"===img_src&&(img_src=$("img",this).attr("src")),isString(img_src)){var img_url=parseURL(img_src);if(isObject(img_url)){new_src=1==Registry("enable-responsive-background").value?window["is-mobile"]===!0?img_url.root+img_url.name+".mobile.":window["is-tablet"]===!0?img_url.root+img_url.name+".tablet.":img_url.root+img_url.name+".":img_url.root+img_url.name+".",new_src+=1==Registry("enable-retina-background").value&&window["is-retina"]===!0?"retina."+img_url.ext:img_url.ext;var target=$(this);$.ajax({url:new_src,type:"HEAD",success:function(){target.css("backgroundImage","url("+new_src+")")},error:function(){target.css("backgroundImage","url("+img_src+")")}})}}})}).autobuild(!0).escape(function(){return $$("bg:dynamic").enabled()===!1?!0:!1});Automator.disable("bg:dynamic")}(jQuery,Automator,jQuery.findData);